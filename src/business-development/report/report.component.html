<div class="w-fit md:w-2/3 mt-10 md:mt-20 bg-white rounded-xl">
  <!-- Header Section -->
  <div class="flex flex-col md:flex-row items-start md:items-center justify-between p-4 gap-4">
    <button
      hlmBtn
      variant="outline"
      class="gap-2 pointer-events-none border-none text-oryo-green"
      size="sm"
    >
      <span>All Report ({{ staffList().length }})</span>
    </button>

    <div class="relative w-full md:w-auto">
      <hlm-icon
        size="sm"
        class="absolute top-1/2 -translate-y-1/2 left-2.5 text-muted-foreground"
        name="lucideSearch"
      />
      <input
        hlmInput
        class="w-full md:w-96 pl-8 bg-muted"
        placeholder="Search for branch, bdm id, company..."
        type="Search"
      />
    </div>
  </div>

  <!-- Table Section -->
  <div class="overflow-x-auto">
    <hlm-table class="min-w-max w-full">
      <hlm-trow class="uppercase">
        <hlm-th class="w-28"> Staff ID</hlm-th>
        <hlm-th class="w-32">Name</hlm-th>
        <hlm-th class="w-40">Budget</hlm-th>
        <hlm-th class="w-40">Actual Budget</hlm-th>
        <hlm-th class="w-40">Percentage</hlm-th>
        <hlm-th class="w-52">Total Actual Budget</hlm-th>
        <hlm-th class="w-40 text-blue-700">Leads</hlm-th>
        <hlm-th class="w-40 text-orange-700">Opportunity</hlm-th>
        <hlm-th class="w-40 text-purple-700">Won</hlm-th>
      </hlm-trow>

      @if (isLoading()) {
      <hlm-caption class="m-0 py-10">
        <hlm-spinner class="size-5" />
      </hlm-caption>
      } @else { @for (item of staffList(); track item.id; let i = $index) {

      <hlm-trow (click)="onVeiw(item)">
        <hlm-td truncate class="font-medium w-28">
          <p class="text-foreground font-medium">#{{ i | leftPadding : 6 }}</p>
        </hlm-td>
        <hlm-td class="w-32">
          <p class="text-foreground font-medium">{{ item.name }}</p>
        </hlm-td>
        <hlm-td class="w-40">
          <span class="truncate">{{
            checkBudget(item.id)?.amount || 0 | number
          }}</span>
        </hlm-td>
        <hlm-td class="w-40">
          <span class="truncate">{{ 0 | number }}</span>
        </hlm-td>
        <hlm-td class="w-40">
          <span class="truncate">{{ 0 | percentage : 0 }}</span>
        </hlm-td>
        <hlm-td class="w-52">
          <span class="truncate">{{
            checkBudget(item.id)?.amount || 0 - 0 | number
          }}</span>
        </hlm-td>
        <hlm-td class="w-40">
          <span class="truncate text-blue-700">{{ 0 | number }}</span>
        </hlm-td>
        <hlm-td class="w-40">
          <span class="truncate text-orange-700">{{ 0 | number }}</span>
        </hlm-td>
        <hlm-td class="w-40">
          <span class="truncate text-purple-700">{{ 0 | number }}</span>
        </hlm-td>
      </hlm-trow>
      } @empty {
      <hlm-caption class="m-0 py-10">No Report found</hlm-caption>
      } }
    </hlm-table>
  </div>
</div>
